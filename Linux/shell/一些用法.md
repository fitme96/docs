
判断目录不存在则创建
```shell
if [ ! -d /run/containerd ];then mkdir /run/containerd ;fi
```

cat写入文件
```shell
cat << EOF > /lib/systemd/system/containerd.service
test is ddd

EOF
```

判断命令执行
```shell
if ! docker version >/dev/null 2>&1 ;then
    echo "docker未安装,开始安装"
else 
    echo "已安装dockerd"
    exit 0
fi
```
防爆破

```shell
#!/bin/bash

## 防止爆破登录,封禁当天登录失败5次的ip地址
grep -E "[0-9]\]: Failed password"  /var/log/auth.log |grep invalid -v|grep "${Date}"|awk '{print $11}'|sort -rn|uniq -c|awk '{if ($1 > 5) cmd="iptables -I INPUT -s "$2" -j DROP"; system(cmd)}'
```